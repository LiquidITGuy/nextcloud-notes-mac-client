"use strict";let i18n=require("./i18n.min");const{app:app,BrowserWindow:BrowserWindow,Menu:Menu,MenuItem:MenuItem,ipcMain:ipcMain}=require("electron"),log=require("electron-log"),Store=require("electron-store"),store=new Store;let sidebarcontextmenu,sidebarMenuTemplate;ipcMain.on("show-sidebar-menu",(e,t)=>{if(t){let e=store.get("categories.list"),n="true"==t.favorite,o="##none##"!=t.catID;(sidebarMenuTemplate=[{label:i18n.t("sidebarmenu:delete","Delete"),click(e,n){n&&n.webContents.send("context-delete",t.id)}},{type:"separator"},{label:i18n.t("sidebarmenu:favorite","Favorite"),type:"checkbox",checked:n,click(e,n){n&&n.webContents.send("context-favorite",t)}},{label:i18n.t("sidebarmenu:export","Export as")+"…",click(e,n){n&&n.webContents.send("context-export",t.id)}},{type:"separator"},{label:i18n.t("sidebarmenu:move","Move to"),submenu:[]},{type:"separator"},{label:i18n.t("sidebarmenu:new","New Note"),click(e,t){t&&t.webContents.send("note","new")}}])[5].submenu.push({label:i18n.t("sidebarmenu:newcategory","New Category…"),click(e,n){n&&n.webContents.send("context-newcategory",t.id)}},{type:"separator"});for(let n of e){let e=t.catID!=n.catID;sidebarMenuTemplate[5].submenu.push({label:n.item,click(e,o){o&&o.webContents.send("context-category",{id:t.id,category:n.item})},enabled:e,type:"radio",checked:!1===e})}sidebarMenuTemplate[5].submenu.push({type:"separator"},{label:i18n.t("sidebarmenu:none","Uncategorised"),click(e,n){n&&n.webContents.send("context-category",{id:t.id,category:""})},enabled:o})}else sidebarMenuTemplate=[{label:i18n.t("sidebarmenu:new","New Note"),click(e,t){t&&t.webContents.send("note","new")}}];const n=Menu.buildFromTemplate(sidebarMenuTemplate),o=BrowserWindow.fromWebContents(e.sender);sidebarcontextmenu=n.popup(o)});
//# sourceMappingURL=maps/menu-sidebar.min.js.map
