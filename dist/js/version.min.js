"use strict";const i18n=require("./i18n.min"),version=require("electron").remote.app.getVersion(),compareVersions=require("compare-versions"),$=require("jquery"),log=require("electron-log");module.exports.appVersion=function(e){$.getJSON("https://api.github.com/repos/dgmid/nextcloud-notes-mac-client/releases/latest",(function(n){let i=n.name;log.info(`this version: ${version}`),log.info(`latest version: ${i}`),compareVersions.compare(version,i,"<")&&e(`<button id="update" class="fadein" type="button" tabindex="-1" data-url="https://www.midwinter-dg.com/mac-apps/nextcloud-notes-client.html?app"><span id="update-version">${i}</span> <span id="update-label">${i18n.t("app:titlebar.update","Update Available")}</span> &rarr;</button>`),compareVersions.compare(version,i,">")&&(version.includes("-a")?e(`<span id="dev" class="α fadein">DEV: v${version}</span>`):version.includes("-b")?e(`<span id="dev" class="β fadein">DEV: v${version}</span>`):e(`<span id="dev" class="fadein">DEV: v${version}</span>`))})).done((function(){log.info("check release succeeded")})).fail((function(e,n,i){log.error(`check release failed ${n}`)})).always((function(){log.info("check release ended")}))};
//# sourceMappingURL=maps/version.min.js.map
