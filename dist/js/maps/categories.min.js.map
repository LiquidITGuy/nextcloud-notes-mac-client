{"version":3,"sources":["categories.js"],"names":["Store","require","store","$","module","exports","sanitizeCategory","category","toLowerCase","replace","normalize","categoryList","array","compressed","copy","slice","orderby","get","results","empty","addClass","i","length","theCount","w","a","Object","value","count","push","sort","x","y","itemX","itemY","item","theItem","theID","showcount","catID","append","showHideCategoryIcons","set","hasClass","removeClass","selectCategory","catid","val","hide","show","parent","toggleCategories","state","toggleClass"],"mappings":"AAAA,aAEA,MAAMA,MAASC,QAAS,kBAClBC,MAAS,IAAIF,MACbG,EAAMF,QAAS,UAIrBG,OAAOC,QAAU,CAEhBC,iBAAkB,SAAUC,GAQ3B,OAFAA,GADAA,GADAA,GADAA,GADAA,EAAWA,EAASC,eACAC,QAAS,IAAK,OACdC,UAAW,OAAQD,QAAS,mBAAoB,KAChDA,QAAS,eAAgB,KACzBA,QAAS,OAAQ,MAMtCE,aAAc,SAAUC,GAEvB,IAAIC,EAAa,GACjBC,EAAOF,EAAMG,MAAM,GACnBC,EAAUd,MAAMe,IAAK,yBACrBC,EAAU,GAEK,MAAXF,IAAkBA,EAAU,OAEhCb,EAAE,eAAegB,QAAQC,SAAUJ,GAEnC,IAAK,IAAIK,EAAI,EAAGA,EAAIT,EAAMU,OAAQD,IAAK,CAItC,IAFA,IAAIE,EAAW,EAENC,EAAI,EAAGA,EAAIV,EAAKQ,OAAQE,IAE5BZ,EAAMS,IAAMP,EAAKU,KAEpBD,WACOT,EAAKU,IAId,GAAID,EAAW,EAAG,CAEjB,IAAIE,EAAI,IAAIC,OACZD,EAAEE,MAAQf,EAAMS,GAChBI,EAAEG,MAAQL,EACVV,EAAWgB,KAAKJ,IAIdZ,EAAWS,OAAS,GAEvBT,EAAWiB,MAAK,SAASC,EAAGC,GAE3B,IAAIC,EAAQF,EAAS,MACjBG,EAAQF,EAAS,MAErB,OAAQC,EAAQC,GAAU,EAAKD,EAAQC,EAAS,EAAI,KAItD,IAAM,IAAIC,KAAQtB,EAAa,CAE9B,IAAIuB,EAAWD,EAAKR,MACnBJ,EAAWY,EAAKP,MAChBS,EAAUjC,OAAOC,QAAQC,iBAAkB8B,GAC3CE,EAAapC,MAAMe,IAAK,wBAA4B,QAAU,GAE3DmB,EAAQd,OAAS,IAEpBJ,EAAQW,KAAM,CACbM,KAAQC,EACRG,MAASF,EACTT,MAASL,IAGVpB,EAAE,eAAeqC,OAAO,0CAA0CH,qBAAyBD,aAAmBA,6BAAmCA,iCAAuCE,MAAcf,2BAIxMpB,EAAE,kCAAkCD,MAAMe,IAAI,4BAA4BG,SAAU,YAEpFhB,OAAOC,QAAQoC,wBACfvC,MAAMwC,IAAK,kBAAmBxB,IAI/BuB,sBAAuB,WAElBtC,EAAE,+BAA+BwC,SAAU,UAE9CxC,EAAE,YAAYiB,SAAU,YAIxBjB,EAAE,YAAYyC,YAAa,aAI7BC,eAAgB,SAAUC,GAMzB,OAJA3C,EAAE,WAAW4C,IAAK,IAClB5C,EAAE,UAAU6C,OACZ7C,EAAE,WAAWgB,QAAQ6B,OAEbF,GAEP,IAAK,UAEJ3C,EAAE,eAAe8C,OAElB,MAEA,IAAK,UAEJ9C,EAAE,eAAe6C,OACjB7C,EAAE,yCAAyC+C,OAAO,MAAMD,OAEzD,MAEA,QAEC9C,EAAE,eAAe6C,OACjB7C,EAAE,+BAA+B2C,OAAWI,OAAO,MAAMD,SAK5DE,iBAAkB,SAAUC,GAE3BjD,EAAE,YAAYkD,YAAa","file":"../categories.min.js","sourcesContent":["'use strict'\n\nconst Store\t\t= require( 'electron-store' )\nconst store\t\t= new Store()\nconst $\t\t\t= require( 'jquery' )\n\n\n\nmodule.exports = {\n\t\n\tsanitizeCategory: function( category ) {\n\t\t\n\t\tcategory = category.toLowerCase()\n\t\tcategory = category.replace( 'ÃŸ', 'ss' )\n\t\tcategory = category.normalize( 'NFD' ).replace( /[\\u0300-\\u036f]/g, '' )\n\t\tcategory = category.replace( /[^0-9a-z ]/gi, '' )\n\t\tcategory = category.replace( /\\s+/g, '_' )\n\t\t\n\t\treturn category\n\t\n\t},\n\t\n\tcategoryList: function( array ) {\n\t\t\n\t\tlet compressed = [],\n\t\tcopy = array.slice(0),\n\t\torderby = store.get( 'appSettings.ordercats' ),\n\t\tresults = []\n\t\t\n\t\tif( orderby == null ) orderby = 'asc'\n\t\t\n\t\t$('#categories').empty().addClass( orderby )\n\t\t\n\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\n\t\t\tvar theCount = 0\n\t\t\t\n\t\t\tfor (var w = 0; w < copy.length; w++) {\n\t\t\t\t\n\t\t\t\tif (array[i] == copy[w]) {\n\t\t\t\t\t\n\t\t\t\t\ttheCount++\n\t\t\t\t\tdelete copy[w]\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (theCount > 0) {\n\t\t\t\t\n\t\t\t\tvar a = new Object()\n\t\t\t\ta.value = array[i]\n\t\t\t\ta.count = theCount\n\t\t\t\tcompressed.push(a)\n\t\t\t}\n\t\t}\n\t\t\n\t\tif( compressed.length > 1 ) {\n\t\t\t\n\t\t\tcompressed.sort(function(x, y) {\n\t\t\t\t\n\t\t\t\tvar itemX = x['value']\n\t\t\t\tvar itemY = y['value']\n\t\t\t\t\n\t\t\t\treturn (itemX < itemY) ? -1 : (itemX > itemY) ? 1 : 0\n\t\t\t})\n\t\t}\n\t\t\n\t\tfor ( let item of compressed ) {\n\t\t\t\n\t\t\tlet theItem\t\t= item.value,\n\t\t\t\ttheCount\t= item.count,\n\t\t\t\ttheID \t\t= module.exports.sanitizeCategory( theItem ),\n\t\t\t\tshowcount\t= (store.get( 'appSettings.catcount' )) ? ' show' : ''\n\t\t\t\n\t\t\tif( theItem.length > 0 ) {\n\t\t\t\n\t\t\t\tresults.push( {\n\t\t\t\t\t\"item\": theItem ,\n\t\t\t\t\t\"catID\": theID,\n\t\t\t\t\t\"count\": theCount\n\t\t\t\t} )\n\t\t\t\t\n\t\t\t\t$('#categories').append(`<li><button class=\"custom\" data-catid=\"${theID}\" data-category=\"${theItem}\" title=\"${theItem}\"><span class=\"cat-name\">${theItem}</span><span class=\"cat-count${showcount}\">${theCount}</span></button></li>`)\n\t\t\t}\n\t\t}\n\t\t\n\t\t$(`.categories button[data-catid=\"${store.get('categories.selected')}\"]`).addClass( 'selected' )\n\t\t\n\t\tmodule.exports.showHideCategoryIcons()\n\t\tstore.set( 'categories.list', results )\n\t\n\t},\n\t\n\tshowHideCategoryIcons: function () {\n\t\t\n\t\tif( $('.categories button.selected').hasClass( 'custom' ) ) {\n\t\t\t\n\t\t\t$('#sidebar').addClass( 'hidecats' )\n\t\t\t\n\t\t} else {\n\t\t\t\n\t\t\t$('#sidebar').removeClass( 'hidecats' )\n\t\t}\n\t},\n\t\n\tselectCategory: function( catid ) {\n\t\t\n\t\t$('#search').val( '' )\n\t\t$('#clear').hide()\n\t\t$('#result').empty().hide()\n\t\t\n\t\tswitch( catid ) {\n\t\t\t\n\t\t\tcase '##all##':\n\t\t\t\t \n\t\t\t\t$(`#sidebar li`).show()\n\t\t\t\t\n\t\t\tbreak\n\t\t\t\n\t\t\tcase '##fav##':\n\t\t\t\t\n\t\t\t\t$(`#sidebar li`).hide()\n\t\t\t\t$(`#sidebar button[data-favorite='true']`).parent('li').show()\n\t\t\t\t\n\t\t\tbreak\n\t\t\t\n\t\t\tdefault:\n\t\t\t\t\n\t\t\t\t$(`#sidebar li`).hide()\n\t\t\t\t$(`#sidebar button[data-catid='${catid}']`).parent('li').show()\t\n\t\t\tbreak\n\t\t}\n\t},\n\t\n\ttoggleCategories: function( state ) {\n\t\t\n\t\t$('#sidebar').toggleClass( 'showcats' )\n\t}\n}\n"]}