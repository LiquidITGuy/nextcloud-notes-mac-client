{"version":3,"sources":["prefs.js"],"names":["i18n","require","ipcRenderer","Store","store","$","jqueryI18next","init","attr","language","localize","document","ready","val","get","prop","localStorage","user_theme","on","name","this","set","send","parseInt","spellcheck","is","showcats","theme","removeItem","__setTheme"],"mappings":"AAAA,aAEA,MAAMA,KAAWC,QAAS,eACpBC,YAACA,aAAgBD,QAAS,YAC1BE,MAAWF,QAAS,kBACpBG,MAAW,IAAID,MACfE,EAAQJ,QAAS,UACjBK,cAAiBL,QAAS,kBAEhCK,cAAcC,KAAKP,KAAMK,GAMzBA,EAAE,QAAQG,KAAK,OAAQR,KAAKS,UAC5BJ,EAAE,SAASK,WACXL,EAAE,UAAUK,WACZL,EAAE,SAASK,WAGXL,EAAEM,UAAUC,MAAM,WAEjBP,EAAE,WAAWQ,IAAKT,MAAMU,IAAI,uBAC5BT,EAAE,YAAYQ,IAAKT,MAAMU,IAAI,wBAC7BT,EAAE,SAASQ,IAAKT,MAAMU,IAAI,qBAC1BT,MAAMD,MAAMU,IAAI,yBAAyBC,KAAK,WAAW,GACzDV,EAAE,eAAeU,KAAK,UAAWX,MAAMU,IAAI,2BAC3CT,EAAE,aAAaU,KAAK,UAAWX,MAAMU,IAAI,yBAGrCE,aAAaC,WAEhBZ,MAAMW,aAAaC,cAAcF,KAAK,WAAW,GAIjDV,EAAE,aAAaU,KAAK,WAAW,GAIhCV,EAAE,iBAAiBa,GAAG,SAAU,WAE/B,IAAIC,EAAOd,EAAEe,MAAMZ,KAAK,QACvBK,EAAMR,EAAEe,MAAMP,MAEf,OAAQM,GAEP,IAAK,SACL,IAAK,UACJf,MAAMiB,mBAAoBF,IAAQN,GAClCX,YAAYoB,KAAK,iBAAkB,MACpC,MAEA,IAAK,OACJlB,MAAMiB,mBAAoBF,IAAQN,GAClCX,YAAYoB,KAAK,kBAAmBC,SAAUV,IAC/C,MAEA,IAAK,SACJT,MAAMiB,mBAAoBF,IAAQN,GACnC,MAEA,IAAK,aACJ,IAAIW,EAAanB,EAAE,eAAeoB,GAAG,YACrCrB,MAAMiB,mBAAoBF,IAAQK,GAClCtB,YAAYoB,KAAK,aAAcE,GAChC,MAEA,IAAK,WACJ,IAAIE,EAAWrB,EAAE,aAAaoB,GAAG,YACjCrB,MAAMiB,mBAAoBF,IAAQO,GAClCxB,YAAYoB,KAAK,WAAYI,GAC9B,MAEA,IAAK,QAEJ,IAAIC,EAAQtB,EAAE,yBAAyBQ,MAE1B,WAATc,GAEHX,aAAaY,WAAW,cACxB1B,YAAYoB,KAAK,eAAgBK,GACjCE,eAIAb,aAAaC,WAAaU,EAC1BzB,YAAYoB,KAAK,eAAgBK,GACjCE","file":"../prefs.min.js","sourcesContent":["'use strict'\n\nconst i18n \t\t\t\t= require( './i18n.min' )\nconst {ipcRenderer} \t= require( 'electron' )\nconst Store \t\t\t= require( 'electron-store' )\nconst store \t\t\t= new Store()\nconst $ \t\t\t\t= require( 'jquery' )\nconst jqueryI18next \t= require( 'jquery-i18next' )\n\njqueryI18next.init(i18n, $)\n\n\n\n//note(@duncanmid): set lang & localize strings\n\n$('html').attr('lang', i18n.language)\n$('title').localize()\n$('option').localize()\n$('label').localize()\n\n\n$(document).ready(function() {\n\t\n\t$('#sortby').val( store.get('appSettings.sortby') )\n\t$('#orderby').val( store.get('appSettings.orderby') )\n\t$('#zoom').val( store.get('appSettings.zoom') )\n\t$(`#${store.get('appSettings.cursor')}`).prop('checked', true)\n\t$('#spellcheck').prop('checked', store.get('appSettings.spellcheck') )\n\t$('#showcats').prop('checked', store.get('appSettings.showcats') )\n\t\n\t\n\tif( localStorage.user_theme ) {\n\t\t\n\t\t$(`#${localStorage.user_theme}`).prop('checked', true)\n\t\t\n\t} else {\n\t\t\n\t\t$('#os-theme').prop('checked', true)\n\t}\n\t\n\t\n\t$('select, input').on('change', function() {\n\t\t\n\t\tlet name = $(this).attr('name'),\n\t\t\tval = $(this).val()\n\t\t\t\n\t\tswitch( name ) {\n\t\t\t\n\t\t\tcase 'sortby':\n\t\t\tcase 'orderby':\n\t\t\t\tstore.set( `appSettings.${name}`, val )\n\t\t\t\tipcRenderer.send('reload-sidebar', null )\n\t\t\tbreak\n\t\t\t\n\t\t\tcase 'zoom':\n\t\t\t\tstore.set( `appSettings.${name}`, val )\n\t\t\t\tipcRenderer.send('set-zoom-slider', parseInt( val ) )\n\t\t\tbreak\n\t\t\t\n\t\t\tcase 'cursor':\n\t\t\t\tstore.set( `appSettings.${name}`, val )\n\t\t\tbreak\n\t\t\t\n\t\t\tcase 'spellcheck':\n\t\t\t\tlet spellcheck = $('#spellcheck').is(':checked')\n\t\t\t\tstore.set( `appSettings.${name}`, spellcheck )\n\t\t\t\tipcRenderer.send('spellcheck', spellcheck )\n\t\t\tbreak\n\t\t\t\n\t\t\tcase 'showcats':\n\t\t\t\tlet showcats = $('#showcats').is(':checked')\n\t\t\t\tstore.set( `appSettings.${name}`, showcats )\n\t\t\t\tipcRenderer.send('showcats', showcats )\n\t\t\tbreak\n\t\t\t\n\t\t\tcase 'theme':\n\t\t\t\t\n\t\t\t\tlet theme = $('[name$=theme]:checked').val()\n\t\t\t\t\n\t\t\t\tif( theme == 'default' ) {\n\t\t\t\t\t\n\t\t\t\t\tlocalStorage.removeItem('user_theme')\n\t\t\t\t\tipcRenderer.send('update-theme', theme )\n\t\t\t\t\t__setTheme()\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t\n\t\t\t\t\tlocalStorage.user_theme = theme\n\t\t\t\t\tipcRenderer.send('update-theme', theme )\n\t\t\t\t\t__setTheme()\n\t\t\t\t}\n\t\t\tbreak\n\t\t}\n\t})\n})\n"]}