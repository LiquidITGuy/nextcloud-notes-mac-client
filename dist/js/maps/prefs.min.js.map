{"version":3,"sources":["prefs.js"],"names":["i18n","require","ipcRenderer","Store","store","$","jqueryI18next","init","attr","language","localize","window","onerror","error","url","line","send","document","ready","val","get","prop","localStorage","user_theme","on","name","this","set","parseInt","spellcheck","is","showcats","theme","removeItem","__setTheme"],"mappings":"AAAA,aAEA,MAAMA,KAAWC,QAAS,eACpBC,YAACA,aAAgBD,QAAS,YAC1BE,MAAWF,QAAS,kBACpBG,MAAW,IAAID,MACfE,EAAQJ,QAAS,UACjBK,cAAiBL,QAAS,kBAEhCK,cAAcC,KAAKP,KAAMK,GAMzBA,EAAE,QAAQG,KAAK,OAAQR,KAAKS,UAC5BJ,EAAE,SAASK,WACXL,EAAE,UAAUK,WACZL,EAAE,SAASK,WAMXC,OAAOC,QAAU,SAAUC,EAAOC,EAAKC,GAEtCb,YAAYc,KAAM,kBAAmB,CAACH,MAAAA,EAAOC,IAAAA,EAAKC,KAAAA,KAKnDV,EAAEY,UAAUC,OAAM,WAEjBb,EAAE,WAAWc,IAAKf,MAAMgB,IAAI,uBAC5Bf,EAAE,YAAYc,IAAKf,MAAMgB,IAAI,wBAC7Bf,EAAE,cAAcc,IAAKf,MAAMgB,IAAI,0BAC/Bf,EAAE,SAASc,IAAKf,MAAMgB,IAAI,qBAC1Bf,EAAE,IAAID,MAAMgB,IAAI,yBAAyBC,KAAK,WAAW,GACzDhB,EAAE,eAAegB,KAAK,UAAWjB,MAAMgB,IAAI,2BAC3Cf,EAAE,aAAagB,KAAK,UAAWjB,MAAMgB,IAAI,yBAGrCE,aAAaC,WAEhBlB,EAAE,IAAIiB,aAAaC,cAAcF,KAAK,WAAW,GAIjDhB,EAAE,aAAagB,KAAK,WAAW,GAIhChB,EAAE,iBAAiBmB,GAAG,UAAU,WAE/B,IAAIC,EAAOpB,EAAEqB,MAAMlB,KAAK,QACvBW,EAAMd,EAAEqB,MAAMP,MAEf,OAAQM,GAEP,IAAK,SACL,IAAK,UACL,IAAK,YACJrB,MAAMuB,IAAK,eAAeF,IAAQN,GAClCjB,YAAYc,KAAK,iBAAkB,MACpC,MAEA,IAAK,OACJZ,MAAMuB,IAAK,eAAeF,IAAQN,GAClCjB,YAAYc,KAAK,kBAAmBY,SAAUT,IAC/C,MAEA,IAAK,SACJf,MAAMuB,IAAK,eAAeF,IAAQN,GACnC,MAEA,IAAK,aACJ,IAAIU,EAAaxB,EAAE,eAAeyB,GAAG,YACrC1B,MAAMuB,IAAK,eAAeF,IAAQI,GAClC3B,YAAYc,KAAK,aAAca,GAChC,MAEA,IAAK,WACJ,IAAIE,EAAW1B,EAAE,aAAayB,GAAG,YACjC1B,MAAMuB,IAAK,eAAeF,IAAQM,GAClC7B,YAAYc,KAAK,WAAYe,GAC9B,MAEA,IAAK,QAEJ,IAAIC,EAAQ3B,EAAE,yBAAyBc,MAE1B,WAATa,GAEHV,aAAaW,WAAW,cACxB/B,YAAYc,KAAK,eAAgBgB,GACjCE,eAIAZ,aAAaC,WAAaS,EAC1B9B,YAAYc,KAAK,eAAgBgB,GACjCE","file":"../prefs.min.js","sourcesContent":["'use strict'\n\nconst i18n \t\t\t\t= require( './i18n.min' )\nconst {ipcRenderer} \t= require( 'electron' )\nconst Store \t\t\t= require( 'electron-store' )\nconst store \t\t\t= new Store()\nconst $ \t\t\t\t= require( 'jquery' )\nconst jqueryI18next \t= require( 'jquery-i18next' )\n\njqueryI18next.init(i18n, $)\n\n\n\n//note(dgmid): set lang & localize strings\n\n$('html').attr('lang', i18n.language)\n$('title').localize()\n$('option').localize()\n$('label').localize()\n\n\n\n//note(dgmid): log exceptions\n\nwindow.onerror = function( error, url, line ) {\n\t\n\tipcRenderer.send( 'error-in-render', {error, url, line} )\n}\n\n\n\n$(document).ready(function() {\n\t\n\t$('#sortby').val( store.get('appSettings.sortby') )\n\t$('#orderby').val( store.get('appSettings.orderby') )\n\t$('#ordercats').val( store.get('appSettings.ordercats') )\n\t$('#zoom').val( store.get('appSettings.zoom') )\n\t$(`#${store.get('appSettings.cursor')}`).prop('checked', true)\n\t$('#spellcheck').prop('checked', store.get('appSettings.spellcheck') )\n\t$('#showcats').prop('checked', store.get('appSettings.showcats') )\n\t\n\t\n\tif( localStorage.user_theme ) {\n\t\t\n\t\t$(`#${localStorage.user_theme}`).prop('checked', true)\n\t\t\n\t} else {\n\t\t\n\t\t$('#os-theme').prop('checked', true)\n\t}\n\t\n\t\n\t$('select, input').on('change', function() {\n\t\t\n\t\tlet name = $(this).attr('name'),\n\t\t\tval = $(this).val()\n\t\t\t\n\t\tswitch( name ) {\n\t\t\t\n\t\t\tcase 'sortby':\n\t\t\tcase 'orderby':\n\t\t\tcase 'ordercats':\n\t\t\t\tstore.set( `appSettings.${name}`, val )\n\t\t\t\tipcRenderer.send('reload-sidebar', null )\n\t\t\tbreak\n\t\t\t\n\t\t\tcase 'zoom':\n\t\t\t\tstore.set( `appSettings.${name}`, val )\n\t\t\t\tipcRenderer.send('set-zoom-slider', parseInt( val ) )\n\t\t\tbreak\n\t\t\t\n\t\t\tcase 'cursor':\n\t\t\t\tstore.set( `appSettings.${name}`, val )\n\t\t\tbreak\n\t\t\t\n\t\t\tcase 'spellcheck':\n\t\t\t\tlet spellcheck = $('#spellcheck').is(':checked')\n\t\t\t\tstore.set( `appSettings.${name}`, spellcheck )\n\t\t\t\tipcRenderer.send('spellcheck', spellcheck )\n\t\t\tbreak\n\t\t\t\n\t\t\tcase 'showcats':\n\t\t\t\tlet showcats = $('#showcats').is(':checked')\n\t\t\t\tstore.set( `appSettings.${name}`, showcats )\n\t\t\t\tipcRenderer.send('showcats', showcats )\n\t\t\tbreak\n\t\t\t\n\t\t\tcase 'theme':\n\t\t\t\t\n\t\t\t\tlet theme = $('[name$=theme]:checked').val()\n\t\t\t\t\n\t\t\t\tif( theme == 'default' ) {\n\t\t\t\t\t\n\t\t\t\t\tlocalStorage.removeItem('user_theme')\n\t\t\t\t\tipcRenderer.send('update-theme', theme )\n\t\t\t\t\t__setTheme()\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t\n\t\t\t\t\tlocalStorage.user_theme = theme\n\t\t\t\t\tipcRenderer.send('update-theme', theme )\n\t\t\t\t\t__setTheme()\n\t\t\t\t}\n\t\t\tbreak\n\t\t}\n\t})\n})\n"]}