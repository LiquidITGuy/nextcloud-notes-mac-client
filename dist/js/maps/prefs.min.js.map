{"version":3,"sources":["prefs.js"],"names":["i18n","require","ipcRenderer","Store","store","$","jqueryI18next","init","attr","language","localize","window","onerror","error","url","line","send","document","ready","val","get","prop","localStorage","user_theme","on","name","this","set","parseInt","theme","removeItem","__setTheme"],"mappings":"AAAA,aAEA,MAAMA,KAAWC,QAAS,eACpBC,YAACA,aAAgBD,QAAS,YAC1BE,MAAWF,QAAS,kBACpBG,MAAW,IAAID,MACfE,EAAQJ,QAAS,UACjBK,cAAiBL,QAAS,kBAEhCK,cAAcC,KAAKP,KAAMK,GAMzBA,EAAE,QAAQG,KAAK,OAAQR,KAAKS,UAC5BJ,EAAE,SAASK,WACXL,EAAE,UAAUK,WACZL,EAAE,UAAUK,WACZL,EAAE,SAASK,WAMXC,OAAOC,QAAU,SAAUC,EAAOC,EAAKC,GAEtCb,YAAYc,KAAM,kBAAmB,CAACH,MAAAA,EAAOC,IAAAA,EAAKC,KAAAA,KAKnDV,EAAEY,UAAUC,OAAM,WAEjBb,EAAE,WAAWc,IAAKf,MAAMgB,IAAI,uBAC5Bf,EAAE,YAAYc,IAAKf,MAAMgB,IAAI,wBAC7Bf,EAAE,SAASc,IAAKf,MAAMgB,IAAI,qBAC1Bf,EAAE,IAAID,MAAMgB,IAAI,yBAAyBC,KAAK,WAAW,GAGrDC,aAAaC,WAEhBlB,EAAE,IAAIiB,aAAaC,cAAcF,KAAK,WAAW,GAIjDhB,EAAE,aAAagB,KAAK,WAAW,GAIhChB,EAAE,iBAAiBmB,GAAG,UAAU,WAE/B,IAAIC,EAAOpB,EAAEqB,MAAMlB,KAAK,QACvBW,EAAMd,EAAEqB,MAAMP,MAEf,OAAQM,GAEP,IAAK,SACL,IAAK,UACJrB,MAAMuB,IAAK,eAAeF,IAAQN,GAClCjB,YAAYc,KAAK,iBAAkB,MACpC,MAEA,IAAK,OACJZ,MAAMuB,IAAK,eAAeF,IAAQN,GAClCjB,YAAYc,KAAK,kBAAmBY,SAAUT,IAC/C,MAEA,IAAK,SACJf,MAAMuB,IAAK,eAAeF,IAAQN,GACnC,MAEA,IAAK,QAEJ,IAAIU,EAAQxB,EAAE,yBAAyBc,MAE1B,WAATU,GAEHP,aAAaQ,WAAW,cACxB5B,YAAYc,KAAK,eAAgBa,GACjCE,eAIAT,aAAaC,WAAaM,EAC1B3B,YAAYc,KAAK,eAAgBa,GACjCE","file":"../prefs.min.js","sourcesContent":["'use strict'\n\nconst i18n \t\t\t\t= require( './i18n.min' )\nconst {ipcRenderer} \t= require( 'electron' )\nconst Store \t\t\t= require( 'electron-store' )\nconst store \t\t\t= new Store()\nconst $ \t\t\t\t= require( 'jquery' )\nconst jqueryI18next \t= require( 'jquery-i18next' )\n\njqueryI18next.init(i18n, $)\n\n\n\n//note(dgmid): set lang & localize strings\n\n$('html').attr('lang', i18n.language)\n$('title').localize()\n$('header').localize()\n$('option').localize()\n$('label').localize()\n\n\n\n//note(dgmid): log exceptions\n\nwindow.onerror = function( error, url, line ) {\n\t\n\tipcRenderer.send( 'error-in-render', {error, url, line} )\n}\n\n\n\n$(document).ready(function() {\n\t\n\t$('#sortby').val( store.get('appSettings.sortby') )\n\t$('#orderby').val( store.get('appSettings.orderby') )\n\t$('#zoom').val( store.get('appSettings.zoom') )\n\t$(`#${store.get('appSettings.cursor')}`).prop('checked', true)\n\t\n\t\n\tif( localStorage.user_theme ) {\n\t\t\n\t\t$(`#${localStorage.user_theme}`).prop('checked', true)\n\t\t\n\t} else {\n\t\t\n\t\t$('#os-theme').prop('checked', true)\n\t}\n\t\n\t\n\t$('select, input').on('change', function() {\n\t\t\n\t\tlet name = $(this).attr('name'),\n\t\t\tval = $(this).val()\n\t\t\t\n\t\tswitch( name ) {\n\t\t\t\n\t\t\tcase 'sortby':\n\t\t\tcase 'orderby':\n\t\t\t\tstore.set( `appSettings.${name}`, val )\n\t\t\t\tipcRenderer.send('reload-sidebar', null )\n\t\t\tbreak\n\t\t\t\n\t\t\tcase 'zoom':\n\t\t\t\tstore.set( `appSettings.${name}`, val )\n\t\t\t\tipcRenderer.send('set-zoom-slider', parseInt( val ) )\n\t\t\tbreak\n\t\t\t\n\t\t\tcase 'cursor':\n\t\t\t\tstore.set( `appSettings.${name}`, val )\n\t\t\tbreak\n\t\t\t\n\t\t\tcase 'theme':\n\t\t\t\t\n\t\t\t\tlet theme = $('[name$=theme]:checked').val()\n\t\t\t\t\n\t\t\t\tif( theme == 'default' ) {\n\t\t\t\t\t\n\t\t\t\t\tlocalStorage.removeItem('user_theme')\n\t\t\t\t\tipcRenderer.send('update-theme', theme )\n\t\t\t\t\t__setTheme()\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t\n\t\t\t\t\tlocalStorage.user_theme = theme\n\t\t\t\t\tipcRenderer.send('update-theme', theme )\n\t\t\t\t\t__setTheme()\n\t\t\t\t}\n\t\t\tbreak\n\t\t}\n\t})\n})\n"]}