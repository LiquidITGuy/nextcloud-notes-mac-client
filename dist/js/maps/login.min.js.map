{"version":3,"sources":["login.js"],"names":["remote","require","ipcRenderer","Store","store","$","server","get","username","password","closeModal","getCurrentWindow","close","val","document","ready","console","log","prop","click","submit","e","preventDefault","theserver","set","send"],"mappings":"AAAA,aAEA,MAAMA,OAASC,QAAS,YAAaD,QAC/BE,YAACA,aAAeD,QAAS,YACzBE,MAAQF,QAAS,kBACjBG,MAAQ,IAAID,MAEZE,EAAIJ,QAAS,UAMZK,OAAWF,MAAMG,IAAK,2BAC3BC,SAAYJ,MAAMG,IAAK,6BACvBE,SAAYL,MAAMG,IAAK,6BAQzB,SAASG,aAEMV,OAAOW,mBACfC,QATHN,QAAWD,EAAE,wBAAwBQ,IAAKP,QAc9CD,EAAES,UAAUC,MAAM,WAIbT,OAECE,UAAYC,UAEfO,QAAQC,IAAI,aAEZZ,EAAE,WAAWa,KAAK,YAAY,GAC9Bb,EAAE,WAAWa,KAAK,YAAY,KAI9BF,QAAQC,IAAI,eAEZZ,EAAE,WAAWa,KAAK,YAAY,GAC9Bb,EAAE,WAAWa,KAAK,YAAY,KAK/BF,QAAQC,IAAI,SAEZZ,EAAE,WAAWa,KAAK,YAAY,GAC9Bb,EAAE,WAAWa,KAAK,YAAY,IAK/Bb,EAAE,WAAWc,MAAO,WAEnBT,eAMDL,EAAE,eAAee,OAAQ,SAAUC,GAElCA,EAAEC,iBAEF,IAAIC,EAAYlB,EAAE,wBAAwBQ,MAE1CT,MAAMoB,IAAK,0BAA2BD,GACtCrB,YAAYuB,KAAM,YAAaF,KAMhClB,EAAE,WAAWc,MAAO,WAEnBf,MAAMoB,IAAK,mBAAoB,CAE9BlB,OAAQ,GACRE,SAAU,GACVC,SAAU,KAGXP,YAAYuB,KAAK,SAAU,UAE3Bf","file":"../login.min.js","sourcesContent":["'use strict'\n\nconst remote = require( 'electron' ).remote\nconst {ipcRenderer} = require( 'electron' )\nconst Store = require( 'electron-store' )\nconst store = new Store()\n\nconst $ = require( 'jquery' )\n\n\n\n//note(@duncanmid): get login credentials\n\nconst \tserver \t\t= store.get( 'loginCredentials.server' ),\n\t\tusername \t= store.get( 'loginCredentials.username' ),\n\t\tpassword \t= store.get( 'loginCredentials.password' )\n\nif( server ) { $('input[name=\"server\"]').val( server ) }\n\n\n\n//note(@duncanmid): close modal\n\nfunction closeModal() {\n\t\n\tconst modal = remote.getCurrentWindow()\n\tmodal.close()\n}\n\n\n\n$(document).ready(function() {\t\n\t\n\t//note(@duncanmid): set button states\n\t\n\tif( server ) {\n\t\t\n\t\tif( username && password ) {\n\t\t\t\n\t\t\tconsole.log('ALL THREE')\n\t\t\t\n\t\t\t$('#update').prop('disabled', true)\n\t\t\t$('#logout').prop('disabled', false)\n\t\t\n\t\t} else {\n\t\t\t\n\t\t\tconsole.log('ONLY SERVER')\n\t\t\t\n\t\t\t$('#update').prop('disabled', false)\n\t\t\t$('#logout').prop('disabled', true)\n\t\t}\n\t\t\n\t} else {\n\t\t\n\t\tconsole.log('NONE!')\n\t\t\n\t\t$('#update').prop('disabled', false)\n\t\t$('#logout').prop('disabled', true)\n\t}\n\t\n\t//note(@duncanmid): cancel modal\n\t\n\t$('#cancel').click( function() {\n\t\t\n\t\tcloseModal()\n\t})\n\t\n\t\n\t//note(@duncanmid): update data\n\t\n\t$('#modal-form').submit( function( e ) {\n\t\t\n\t\te.preventDefault()\n\t\t\n\t\tlet theserver = $('input[name=\"server\"]').val()\n\t\t\n\t\tstore.set( 'loginCredentials.server', theserver )\n\t\tipcRenderer.send( 'loginflow', theserver )\n\t})\n\t\n\t\n\t//note(@duncanmid): logout\n\t\n\t$('#logout').click( function() {\n\t\t\n\t\tstore.set( 'loginCredentials', {\n\t\t\t\n\t\t\tserver: '',\n\t\t\tusername: '',\n\t\t\tpassword: ''\n\t\t} )\n\t\t\n\t\tipcRenderer.send('reload', 'reload')\n\t\t\n\t\tcloseModal()\n\t})\n})\n"]}