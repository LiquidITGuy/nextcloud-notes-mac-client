{"version":3,"sources":["menu-notes.js"],"names":["i18n","require","electron","app","BrowserWindow","Menu","MenuItem","ipc","ipcMain","Store","store","on","event","message","notesMenuTemplate","enable","selection","length","preview","label","t","role","type","accelerator","[object Object]","item","focusedWindow","webContents","send","submenu","enabled","notesMenu","buildFromTemplate","win","fromWebContents","sender","popup"],"mappings":"AAAA,aAEA,IAAIA,KAAOC,QAAQ,cACnB,MAAMC,SAAWD,QAAS,aACpBE,IAAEA,KAAQF,QAAS,YACnBG,cAAgBF,SAASE,cACzBC,KAAOH,SAASG,KAChBC,SAAWJ,SAASI,SACpBC,IAAML,SAASM,QAEfC,MAAQR,QAAS,kBACjBS,MAAQ,IAAID,MAIlBF,IAAII,GAAG,kBAAmB,CAAEC,EAAOC,KAElC,IAAIC,EACHC,EAAuC,IAA7BF,EAAQG,UAAUC,OAI5BH,EAFGD,EAAQK,QAES,CAEnB,CACCC,MAAOnB,KAAKoB,EAAE,iBAAkB,QAChCC,KAAM,SAMY,CAEnB,CACCF,MAAOnB,KAAKoB,EAAE,gBAAiB,OAC/BC,KAAM,OAEP,CACCF,MAAOnB,KAAKoB,EAAE,iBAAkB,QAChCC,KAAM,QAEP,CACCF,MAAOnB,KAAKoB,EAAE,kBAAmB,SACjCC,KAAM,SAEP,CACCC,KAAM,aAEP,CACCH,MAAOnB,KAAKoB,EAAE,mBAAoB,UAClCC,KAAM,UAEP,CACCF,MAAOnB,KAAKoB,EAAE,sBAAuB,cACrCG,YAAa,QACbC,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,OAAQ,eAExF,CACCN,KAAM,aAEP,CACCH,MAAOnB,KAAKoB,EAAE,4BAA6B,oBAC3CS,QAAS,CACR,CACCV,MAAOnB,KAAKoB,EAAE,qBAAsB,QACpCG,YAAa,QACbC,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,WAAY,OAE5F,CACCT,MAAOnB,KAAKoB,EAAE,uBAAwB,UACtCG,YAAa,QACbC,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,WAAY,OAE5F,CACCT,MAAOnB,KAAKoB,EAAE,uBAAwB,iBACtCG,YAAa,cACbC,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,WAAY,SAE5F,CACCN,KAAM,aAEP,CACCH,MAAOnB,KAAKoB,EAAE,mBAAoB,kBAClCG,YAAa,QACbC,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,WAAY,QAE5F,CACCT,MAAOnB,KAAKoB,EAAE,mBAAoB,gBAClCG,YAAa,YACbC,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,WAAY,UAI9F,CACCN,KAAM,aAEP,CACCH,MAAOnB,KAAKoB,EAAE,oCAAqC,2BACnDS,QAAS,CACR,CACCV,MAAOnB,KAAKoB,EAAE,kCAAmC,mBACjDU,QAASf,EACTS,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,sBAAuBf,EAAQG,aAE/G,CACCG,MAAOnB,KAAKoB,EAAE,kCAAmC,mBACjDU,QAASf,EACTS,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,sBAAuBf,EAAQG,gBAOnH,MAAMe,EAAY1B,KAAK2B,kBAAmBlB,GAEpCmB,EAAM7B,cAAc8B,gBAAiBtB,EAAMuB,QACjDJ,EAAUK,MAAOH","file":"../menu-notes.min.js","sourcesContent":["'use strict'\n\nlet i18n = require('./i18n.min')\nconst electron = require( 'electron' )\nconst { app } = require( 'electron' )\nconst BrowserWindow = electron.BrowserWindow\nconst Menu = electron.Menu\nconst MenuItem = electron.MenuItem\nconst ipc = electron.ipcMain\n\nconst Store = require( 'electron-store' )\nconst store = new Store()\n\n\n\nipc.on('show-notes-menu', ( event, message ) => {\n\t\n\tlet notesMenuTemplate,\n\t\tenable = (message.selection.length === 0 ) ? false : true\n\t\n\tif( message.preview ) {\n\t\t\n\t\tnotesMenuTemplate = [\n\t\t\t\n\t\t\t{\n\t\t\t\tlabel: i18n.t('menu:edit.copy', 'Copy'),\n\t\t\t\trole: 'copy'\n\t\t\t}\n\t\t]\n\t\t\n\t} else {\n\t\t\t\n\t\tnotesMenuTemplate = [\n\t\t\t\n\t\t\t{\n\t\t\t\tlabel: i18n.t('menu:edit.cut', 'Cut'),\n\t\t\t\trole: 'cut'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: i18n.t('menu:edit.copy', 'Copy'),\n\t\t\t\trole: 'copy'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: i18n.t('menu:edit.paste', 'Paste'),\n\t\t\t\trole: 'paste'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: i18n.t('menu:edit.delete', 'Delete'),\n\t\t\t\trole: 'delete'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: i18n.t('menu:edit.selectall', 'Select All'),\n\t\t\t\taccelerator: 'Cmd+a',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('note', 'selectall') }\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: i18n.t('notecontextmenu:paragraph', 'Paragraph Styles'),\n\t\t\t\tsubmenu: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: i18n.t('menu:markdown.bold', 'Bold'),\n\t\t\t\t\t\taccelerator: 'Cmd+b',\n\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('markdown', 'b') }\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: i18n.t('menu:markdown.italic', 'Italic'),\n\t\t\t\t\t\taccelerator: 'Cmd+i',\n\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('markdown', 'i') }\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: i18n.t('menu:markdown.strike', 'Strikethrough'),\n\t\t\t\t\t\taccelerator: 'Cmd+Shift+d',\n\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('markdown', 'del') }\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'separator'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: i18n.t('menu:markdown.ul', 'Unordered List'),\n\t\t\t\t\t\taccelerator: 'Cmd+l',\n\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('markdown', 'ul') }\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: i18n.t('menu:markdown.ol', 'Ordered List'),\n\t\t\t\t\t\taccelerator: 'Cmd+Alt+l',\n\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('markdown', 'ol') }\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: i18n.t('notecontextmenu:entities.entities', 'Encode / Decode Entites'),\n\t\t\t\tsubmenu: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: i18n.t('notecontextmenu:entities.encode', 'Encode Entities'),\n\t\t\t\t\t\tenabled: enable,\n\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('context-note-encode', message.selection) }\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: i18n.t('notecontextmenu:entities.decode', 'Decode Entities'),\n\t\t\t\t\t\tenabled: enable,\n\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('context-note-decode', message.selection) }\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t}\n\t\n\tconst notesMenu = Menu.buildFromTemplate( notesMenuTemplate )\n\t\n\tconst win = BrowserWindow.fromWebContents( event.sender )\n\tnotesMenu.popup( win )\n})\n"]}