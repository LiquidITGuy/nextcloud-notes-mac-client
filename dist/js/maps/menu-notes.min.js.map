{"version":3,"sources":["menu-notes.js"],"names":["i18n","require","app","BrowserWindow","Menu","MenuItem","ipcMain","log","Store","store","notescontextmenu","notesMenuTemplate","on","event","message","preview","label","t","role","type","submenu","enable","selection","length","accelerator","[object Object]","item","focusedWindow","webContents","send","enabled","notesMenu","buildFromTemplate","win","fromWebContents","sender","popup"],"mappings":"AAAA,aAEA,IAAIA,KAAOC,QAAQ,cACnB,MAAMC,IACLA,IAAGC,cACHA,cAAaC,KACbA,KAAIC,SACJA,SAAQC,QACRA,SACGL,QAAS,YACPM,IAAMN,QAAS,gBACfO,MAAQP,QAAS,kBACjBQ,MAAQ,IAAID,MAGlB,IAAIE,iBACHC,kBAEDL,QAAQM,GAAG,kBAAmB,CAAEC,EAAOC,KAEtC,GAAIA,EAAQC,QAEXJ,kBAAoB,CAEnB,CACCK,MAAOhB,KAAKiB,EAAE,iBAAkB,QAChCC,KAAM,QAEP,CACCC,KAAM,aAEP,CACCH,MAAOhB,KAAKiB,EAAE,gCAAiC,UAC/CG,QAAS,CACR,CACCJ,MAAOhB,KAAKiB,EAAE,+BAAgC,kBAC9CC,KAAM,iBAEP,CACCF,MAAOhB,KAAKiB,EAAE,8BAA+B,iBAC7CC,KAAM,uBAMJ,CAEN,IAAIG,EAAuC,IAA7BP,EAAQQ,UAAUC,OAEhCZ,kBAAoB,CAEnB,CACCK,MAAOhB,KAAKiB,EAAE,gBAAiB,OAC/BC,KAAM,OAEP,CACCF,MAAOhB,KAAKiB,EAAE,iBAAkB,QAChCC,KAAM,QAEP,CACCF,MAAOhB,KAAKiB,EAAE,kBAAmB,SACjCC,KAAM,SAEP,CACCC,KAAM,aAEP,CACCH,MAAOhB,KAAKiB,EAAE,mBAAoB,UAClCC,KAAM,UAEP,CACCF,MAAOhB,KAAKiB,EAAE,sBAAuB,cACrCO,YAAa,QACbC,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,OAAQ,eAExF,CACCV,KAAM,aAEP,CACCH,MAAOhB,KAAKiB,EAAE,4BAA6B,oBAC3CG,QAAS,CACR,CACCJ,MAAOhB,KAAKiB,EAAE,qBAAsB,QACpCO,YAAa,QACbC,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,WAAY,OAE5F,CACCb,MAAOhB,KAAKiB,EAAE,uBAAwB,UACtCO,YAAa,QACbC,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,WAAY,OAE5F,CACCb,MAAOhB,KAAKiB,EAAE,uBAAwB,iBACtCO,YAAa,cACbC,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,WAAY,SAE5F,CACCV,KAAM,aAEP,CACCH,MAAOhB,KAAKiB,EAAE,mBAAoB,kBAClCO,YAAa,QACbC,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,WAAY,QAE5F,CACCb,MAAOhB,KAAKiB,EAAE,mBAAoB,gBAClCO,YAAa,YACbC,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,WAAY,QAE5F,CACCb,MAAOhB,KAAKiB,EAAE,mBAAoB,iBAClCO,YAAa,kBACbC,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,WAAY,UAI9F,CACCV,KAAM,aAEP,CACCH,MAAOhB,KAAKiB,EAAE,oCAAqC,2BACnDG,QAAS,CACR,CACCJ,MAAOhB,KAAKiB,EAAE,kCAAmC,mBACjDa,QAAST,EACTI,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,sBAAuBf,EAAQQ,aAE/G,CACCN,MAAOhB,KAAKiB,EAAE,kCAAmC,mBACjDa,QAAST,EACTI,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,sBAAuBf,EAAQQ,gBAOnH,MAAMS,EAAY3B,KAAK4B,kBAAmBrB,mBAEpCsB,EAAM9B,cAAc+B,gBAAiBrB,EAAMsB,QACjDzB,iBAAmBqB,EAAUK,MAAOH","file":"../menu-notes.min.js","sourcesContent":["'use strict'\n\nlet i18n = require('./i18n.min')\nconst {\n\tapp,\n\tBrowserWindow,\n\tMenu,\n\tMenuItem,\n\tipcMain\n} = require( 'electron' )\nconst log\t= require( 'electron-log' )\nconst Store = require( 'electron-store' )\nconst store = new Store()\n\n\nlet notescontextmenu,\n\tnotesMenuTemplate\n\nipcMain.on('show-notes-menu', ( event, message ) => {\n\t\n\tif( message.preview ) {\n\t\t\n\t\tnotesMenuTemplate = [\n\t\t\t\n\t\t\t{\n\t\t\t\tlabel: i18n.t('menu:edit.copy', 'Copy'),\n\t\t\t\trole: 'copy'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: i18n.t('notecontextmenu:speech.speech', 'Speech'),\n\t\t\t\tsubmenu: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: i18n.t('notecontextmenu:speech.start', 'Start Speaking'),\n\t\t\t\t\t\trole: 'startSpeaking'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: i18n.t('notecontextmenu:speech.stop', 'Stop Speaking'),\n\t\t\t\t\t\trole: 'stopSpeaking'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t\t\n\t} else {\n\t\t\n\t\tlet enable = (message.selection.length === 0 ) ? false : true\n\t\t\n\t\tnotesMenuTemplate = [\n\t\t\t\n\t\t\t{\n\t\t\t\tlabel: i18n.t('menu:edit.cut', 'Cut'),\n\t\t\t\trole: 'cut'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: i18n.t('menu:edit.copy', 'Copy'),\n\t\t\t\trole: 'copy'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: i18n.t('menu:edit.paste', 'Paste'),\n\t\t\t\trole: 'paste'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: i18n.t('menu:edit.delete', 'Delete'),\n\t\t\t\trole: 'delete'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: i18n.t('menu:edit.selectall', 'Select All'),\n\t\t\t\taccelerator: 'Cmd+a',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('note', 'selectall') }\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: i18n.t('notecontextmenu:paragraph', 'Paragraph Styles'),\n\t\t\t\tsubmenu: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: i18n.t('menu:markdown.bold', 'Bold'),\n\t\t\t\t\t\taccelerator: 'Cmd+b',\n\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('markdown', 'b') }\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: i18n.t('menu:markdown.italic', 'Italic'),\n\t\t\t\t\t\taccelerator: 'Cmd+i',\n\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('markdown', 'i') }\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: i18n.t('menu:markdown.strike', 'Strikethrough'),\n\t\t\t\t\t\taccelerator: 'Cmd+Shift+d',\n\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('markdown', 'del') }\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'separator'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: i18n.t('menu:markdown.ul', 'Unordered List'),\n\t\t\t\t\t\taccelerator: 'Cmd+l',\n\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('markdown', 'ul') }\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: i18n.t('menu:markdown.ol', 'Ordered List'),\n\t\t\t\t\t\taccelerator: 'Cmd+Alt+l',\n\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('markdown', 'ol') }\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: i18n.t('menu:markdown.cl', 'Checkbox List'),\n\t\t\t\t\t\taccelerator: 'Cmd+Alt+Shift+l',\n\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('markdown', 'cl') }\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: i18n.t('notecontextmenu:entities.entities', 'Encode / Decode Entites'),\n\t\t\t\tsubmenu: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: i18n.t('notecontextmenu:entities.encode', 'Encode Entities'),\n\t\t\t\t\t\tenabled: enable,\n\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('context-note-encode', message.selection) }\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: i18n.t('notecontextmenu:entities.decode', 'Decode Entities'),\n\t\t\t\t\t\tenabled: enable,\n\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('context-note-decode', message.selection) }\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t}\n\t\n\tconst notesMenu = Menu.buildFromTemplate( notesMenuTemplate )\n\t\n\tconst win = BrowserWindow.fromWebContents( event.sender )\n\tnotescontextmenu = notesMenu.popup( win )\n})\n"]}