{"version":3,"sources":["preload.js"],"names":["remote","require","os","release","parts","split","process","platform","systemPreferences","setOSTheme","theme","isDarkMode","window","localStorage","os_theme","__setTheme","subscribeNotification"],"mappings":"AAAA,aAIA,MAAMA,OAAEA,QAAYC,QAAS,YACvBC,GAAQD,QAAQ,MAAME,UACtBC,MAAUF,GAAGG,MAAM,KAGzB,GAAwB,UAApBC,QAAQC,SAAsB,CAEjC,MAAMC,kBAAEA,GAAsBR,OAExBS,EAAa,KAElB,IAAIC,EAAQF,EAAkBG,aAAe,OAAS,QAElDP,MAAM,IAAM,KAAKM,EAAQ,SAE7BE,OAAOC,aAAaC,SAAWJ,EAE3B,eAAgBE,QAEnBA,OAAOG,cAITP,EAAkBQ,sBAEjB,yCACAP,GAGDA","file":"../preload.min.js","sourcesContent":["'use strict'\n\n// https://gist.github.com/EtienneLem/7e3bc7af2ed75a15eae9006557ef790e#file-preload-js\n\nconst { remote } \t= require( 'electron' )\nconst os \t\t\t= require('os').release()\nconst parts \t\t= os.split('.')\n\n\nif (process.platform == 'darwin') {\n\t\n\tconst { systemPreferences } = remote\n\n\tconst setOSTheme = () => {\n\t\t\n\t\tlet theme = systemPreferences.isDarkMode() ? 'dark' : 'light'\n\t\t\n\t\tif( parts[0] <= 17 ) theme = 'light'\n\t\t\n\t\twindow.localStorage.os_theme = theme\n\n\t\tif ('__setTheme' in window) {\n\t\t\t\n\t\t\twindow.__setTheme()\n\t\t}\n\t}\n\n\tsystemPreferences.subscribeNotification(\n\t\t\n\t\t'AppleInterfaceThemeChangedNotification',\n\t\tsetOSTheme,\n\t)\n\n\tsetOSTheme()\n}\n"]}