{"version":3,"sources":["menu-sidebar.js"],"names":["i18n","require","electron","app","BrowserWindow","Menu","MenuItem","ipc","ipcMain","Store","store","on","event","message","sidebarMenuTemplate","favorite","label","t","[object Object]","item","focusedWindow","webContents","send","type","checked","id","sidebarMenu","buildFromTemplate","win","fromWebContents","sender","popup"],"mappings":"AAAA,aAEA,IAAIA,KAAOC,QAAQ,cACnB,MAAMC,SAAWD,QAAS,aACpBE,IAAEA,KAAQF,QAAS,YACnBG,cAAgBF,SAASE,cACzBC,KAAOH,SAASG,KAChBC,SAAWJ,SAASI,SACpBC,IAAML,SAASM,QAEfC,MAAQR,QAAS,kBACjBS,MAAQ,IAAID,MAIlBF,IAAII,GAAG,oBAAqB,CAAEC,EAAOC,KAEpC,IAAIC,EAEJ,GAAID,EAAS,CAEZ,IAAIE,EAAgC,QAApBF,EAAQE,SAExBD,EAAsB,CACrB,CACCE,MAAOhB,KAAKiB,EAAE,kBAAmB,YACjCC,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,OAAQ,SAExF,CACCC,KAAM,aAEP,CACCP,MAAOhB,KAAKiB,EAAE,uBAAwB,YACtCM,KAAM,WACNC,QAAST,EACTG,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,mBAAoBT,KAEpG,CACCG,MAAOhB,KAAKiB,EAAE,qBAAsB,aAAe,IACnDC,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,iBAAkBT,EAAQY,MAE1G,CACCF,KAAM,aAEP,CACCP,MAAOhB,KAAKiB,EAAE,qBAAsB,UACpCC,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,iBAAkBT,EAAQY,YAM3GX,EAAsB,CACrB,CACCE,MAAOhB,KAAKiB,EAAE,kBAAmB,YACjCC,MAAOC,EAAMC,GAAoBA,GAAeA,EAAcC,YAAYC,KAAK,OAAQ,UAK1F,MAAMI,EAAcrB,KAAKsB,kBAAmBb,GAEtCc,EAAMxB,cAAcyB,gBAAiBjB,EAAMkB,QACjDJ,EAAYK,MAAOH","file":"../menu-sidebar.min.js","sourcesContent":["'use strict'\n\nlet i18n = require('./i18n.min')\nconst electron = require( 'electron' )\nconst { app } = require( 'electron' )\nconst BrowserWindow = electron.BrowserWindow\nconst Menu = electron.Menu\nconst MenuItem = electron.MenuItem\nconst ipc = electron.ipcMain\n\nconst Store = require( 'electron-store' )\nconst store = new Store()\n\n\n\nipc.on('show-sidebar-menu', ( event, message ) => {\n\t\n\tlet sidebarMenuTemplate\n\t\n\tif( message) {\n\t\t\n\t\tlet favorite = (message.favorite == 'true') ? true : false\n\t\t\n\t\tsidebarMenuTemplate = [\n\t\t\t{\n\t\t\t\tlabel: i18n.t('sidebarmenu:new', 'New Note'),\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('note', 'new') }\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: i18n.t('sidebarmenu:favorite', 'Favorite'),\n\t\t\t\ttype: 'checkbox',\n\t\t\t\tchecked: favorite,\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('context-favorite', message) }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: i18n.t('sidebarmenu:export', 'Export as') + 'â€¦',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('context-export', message.id) }\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: i18n.t('sidebarmenu:delete', 'Delete'),\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('context-delete', message.id) }\n\t\t\t},\n\t\t]\n\t\t\n\t} else {\n\t\t\n\t\tsidebarMenuTemplate = [\n\t\t\t{\n\t\t\t\tlabel: i18n.t('sidebarmenu:new', 'New Note'),\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('note', 'new') }\n\t\t\t}\n\t\t]\n\t}\n\t\n\tconst sidebarMenu = Menu.buildFromTemplate( sidebarMenuTemplate )\n\t\n\tconst win = BrowserWindow.fromWebContents( event.sender )\n\tsidebarMenu.popup( win )\n})\n"]}