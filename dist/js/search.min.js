"use strict";const Store=require("electron-store"),JsSearch=require("js-search"),stemmer=require("stemmer"),sw=require("stopword"),removeMarkdown=require("remove-markdown"),$=require("jquery"),log=require("electron-log"),i18n=require("./i18n.min"),sanitize=require("./sanitize-category.min"),store=new Store,database=new Store({name:"database"});function checkStopwordLang(e){return["af","ar","bn","br","da","de","es","fa","fi","fr","ha","he","hi","id","it","ja","nl","no","pl","pt","pa","ru","so","st","sv","sw","vi","yo","zh"].includes(e)?e:"en"}module.exports.searchNotes=function(e,t){let r,o=e.split(" "),n=database.get("notes"),s=(store.get("categories.selected"),i18n.language.substring(0,2)),i=[],a=[];if(!0===store.get("appSettings.stopwords")){r=sw.removeStopwords(o,sw[checkStopwordLang(s)]).join(" ")}else r=e;for(let e of n){e.content=removeMarkdown(e.content);let t=sanitize.sanitizeCategory(e.category);i.push({id:e.id,content:e.content,category:t,favorite:e.favorite})}let c=new JsSearch.Search("id");!0===store.get("appSettings.stemming")&&"en"===s&&(c.tokenizer=new JsSearch.StemmingTokenizer(stemmer,new JsSearch.SimpleTokenizer)),c.addIndex("content"),c.addDocuments(i);let d=c.search(r);for(let e of d)a.push(e.id);t(a,r)};
//# sourceMappingURL=maps/search.min.js.map
